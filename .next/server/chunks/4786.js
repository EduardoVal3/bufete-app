exports.id=4786,exports.ids=[4786],exports.modules={6823:(e,t,a)=>{Promise.resolve().then(a.bind(a,12092))},10022:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},11096:(e,t,a)=>{"use strict";a.d(t,{H4:()=>k,_V:()=>w,bL:()=>b});var r=a(43210),s=a(11273),n=a(13495),l=a(66156),i=a(14163),c=a(57379);function o(){return()=>{}}var d=a(60687),u="Avatar",[f,h]=(0,s.A)(u),[m,x]=f(u),p=r.forwardRef((e,t)=>{let{__scopeAvatar:a,...s}=e,[n,l]=r.useState("idle");return(0,d.jsx)(m,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,d.jsx)(i.sG.span,{...s,ref:t})})});p.displayName=u;var g="AvatarImage",v=r.forwardRef((e,t)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:u=()=>{},...f}=e,h=x(g,a),m=function(e,{referrerPolicy:t,crossOrigin:a}){let s=(0,c.useSyncExternalStore)(o,()=>!0,()=>!1),n=r.useRef(null),i=s?(n.current||(n.current=new window.Image),n.current):null,[d,u]=r.useState(()=>N(i,e));return(0,l.N)(()=>{u(N(i,e))},[i,e]),(0,l.N)(()=>{let e=e=>()=>{u(e)};if(!i)return;let r=e("loaded"),s=e("error");return i.addEventListener("load",r),i.addEventListener("error",s),t&&(i.referrerPolicy=t),"string"==typeof a&&(i.crossOrigin=a),()=>{i.removeEventListener("load",r),i.removeEventListener("error",s)}},[i,a,t]),d}(s,f),p=(0,n.c)(e=>{u(e),h.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==m&&p(m)},[m,p]),"loaded"===m?(0,d.jsx)(i.sG.img,{...f,ref:t,src:s}):null});v.displayName=g;var y="AvatarFallback",j=r.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:s,...n}=e,l=x(y,a),[c,o]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(e)}},[s]),c&&"loaded"!==l.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...n,ref:t}):null});function N(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=y;var b=p,w=v,k=j},12092:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var r=a(60687),s=a(85814),n=a.n(s),l=a(16189),i=a(43210),c=a(24934),o=a(92241),d=a(70373),u=a(32192);let f=(0,a(62688).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var h=a(10022),m=a(85778),x=a(84027),p=a(97051),g=a(21134),v=a(363),y=a(40083),j=a(12941),N=a(10218),b=a(48622),w=a(12810);let k=null,A=[{title:"Panel Principal",href:"/perfil",icon:u.A,description:"Resumen y actividad"},{title:"Contratar Servicio",href:"/perfil/contratar",icon:f,description:"Solicitar nueva consulta"},{title:"Mis Casos",href:"/perfil/casos",icon:h.A,description:"Ver casos activos y completados"},{title:"Pagos",href:"/perfil/pagos",icon:m.A,description:"Facturas y pagos"},{title:"Configuraci\xf3n",href:"/perfil/configuracion",icon:x.A,description:"Perfil y preferencias"}];function C({className:e}){let t=(0,l.usePathname)(),{theme:a,setTheme:s}=(0,N.D)(),[u,f]=(0,i.useState)(!1),{user:h,logout:m,loading:x}=(0,b.A)(),{profile:C,loading:S}=function(){let{user:e,loading:t}=(0,b.A)(),[a,r]=(0,i.useState)(k),[s,n]=(0,i.useState)(!k),[l,c]=(0,i.useState)(null);return{profile:a,loading:s||t,error:l,refreshProfile:async()=>{if(e&&"Cliente"===e.role)try{n(!0),c(null);let e=await w.A.get("/Clients/my-profile");e.data?.data&&(k=e.data.data,Date.now(),r(k))}catch(e){console.error("Error al refrescar perfil del cliente:",e),c("Error al actualizar el perfil")}finally{n(!1)}},clearCache:()=>{k=null}}}(),M={name:C?.fullName||h?.email||"Usuario",email:C?.email||h?.email||"",initials:(e=>{if(!e)return"CL";let t=e.trim().split(" ");return t.length>=2?(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase():t[0].charAt(0).toUpperCase()+(t[0].charAt(1)||"").toUpperCase()})(C?.fullName),avatar:null},P=async()=>{try{await m()}catch(e){console.error("Error durante el logout:",e)}},E=x||S,z=()=>(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"p-6 border-b",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(d.eu,{className:"h-10 w-10",children:[(0,r.jsx)(d.BK,{src:M.avatar||"/placeholder.svg",alt:M.name}),(0,r.jsx)(d.q5,{className:"bg-primary text-primary-foreground",children:E?"...":M.initials})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium text-sm truncate",children:E?"Cargando...":M.name}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:E?"...":M.email})]}),(0,r.jsx)(c.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4",children:(0,r.jsx)("div",{className:"space-y-2",children:A.map(e=>{let a=e.icon,s=t===e.href;return(0,r.jsxs)(n(),{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors hover:bg-accent hover:text-accent-foreground ${s?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground"}`,children:[(0,r.jsx)(a,{className:"h-4 w-4 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"font-medium",children:e.title}),(0,r.jsx)("div",{className:"text-xs opacity-70 truncate",children:e.description})]})]},e.href)})})}),(0,r.jsxs)("div",{className:"p-4 border-t space-y-2",children:[(0,r.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>s("dark"===a?"light":"dark"),className:"w-full justify-start gap-3",children:u?(0,r.jsxs)(r.Fragment,{children:["dark"===a?(0,r.jsx)(g.A,{className:"h-4 w-4"}):(0,r.jsx)(v.A,{className:"h-4 w-4"}),"dark"===a?"Modo Claro":"Modo Oscuro"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"h-4 w-4"}),"Cambiar Tema"]})}),(0,r.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:P,className:"w-full justify-start gap-3 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",children:[(0,r.jsx)(y.A,{className:"h-4 w-4"}),"Cerrar Sesi\xf3n"]})]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:`hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 lg:border-r lg:bg-background ${e}`,children:(0,r.jsx)(z,{})}),(0,r.jsxs)(o.cj,{children:[(0,r.jsx)(o.CG,{asChild:!0,children:(0,r.jsx)(c.$,{variant:"ghost",size:"sm",className:"lg:hidden fixed top-4 left-4 z-50 h-9 w-9 p-0 bg-background border shadow-sm",children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})}),(0,r.jsx)(o.h,{side:"left",className:"p-0 w-64",children:(0,r.jsx)(z,{})})]})]})}function S({children:e}){let{user:t,loading:a}=(0,b.A)();return a?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t&&"Cliente"===t.role?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(C,{}),(0,r.jsxs)("div",{className:"lg:pl-64",children:[(0,r.jsx)("div",{className:"lg:hidden h-16 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)("h1",{className:"font-semibold text-lg",children:"Panel Legal"})})}),(0,r.jsx)("main",{className:"min-h-screen lg:min-h-screen",children:(0,r.jsx)("div",{className:"container mx-auto max-w-7xl",children:e})})]})]}):null}a(52581)},12941:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},14952:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},31913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Desktop\\\\Mis Proyectos\\\\UNAHPROY\\\\buffet-app\\\\app\\\\perfil\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Desktop\\Mis Proyectos\\UNAHPROY\\buffet-app\\app\\perfil\\layout.tsx","default")},32192:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},40083:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},53332:(e,t,a)=>{"use strict";var r=a(43210),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=r.useState,l=r.useEffect,i=r.useLayoutEffect,c=r.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!s(e,a)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=n({inst:{value:a,getSnapshot:t}}),s=r[0].inst,d=r[1];return i(function(){s.value=a,s.getSnapshot=t,o(s)&&d({inst:s})},[e,a,t]),l(function(){return o(s)&&d({inst:s}),e(function(){o(s)&&d({inst:s})})},[e]),c(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},55192:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>d});var r=a(60687);a(43210);var s=a(96241);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function c({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}function d({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},57379:(e,t,a)=>{"use strict";e.exports=a(53332)},70373:(e,t,a)=>{"use strict";a.d(t,{BK:()=>i,eu:()=>l,q5:()=>c});var r=a(60687);a(43210);var s=a(11096),n=a(96241);function l({className:e,...t}){return(0,r.jsx)(s.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function i({className:e,...t}){return(0,r.jsx)(s._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",e),...t})}function c({className:e,...t}){return(0,r.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}},80235:(e,t,a)=>{"use strict";a.d(t,{B:()=>d});var r=a(60687),s=a(16189),n=a(85814),l=a.n(n),i=a(32192),c=a(14952);let o={"/perfil":"Panel Principal","/perfil/contratar":"Contratar Servicio","/perfil/casos":"Mis Casos","/perfil/pagos":"Pagos","/perfil/configuracion":"Configuraci\xf3n"};function d(){let e=(0,s.usePathname)();return"/perfil"===e?null:(0,r.jsxs)("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground mb-6",children:[(0,r.jsx)(l(),{href:"/perfil",className:"flex items-center hover:text-foreground transition-colors",children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}),(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"font-medium text-foreground",children:o[e]||"P\xe1gina"})]})}},84027:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},85778:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},97051:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},98575:(e,t,a)=>{Promise.resolve().then(a.bind(a,31913))}};